files_disp = list.files(dir_disp, pattern = ".*\\.mag.geo.tif$", full.names = TRUE)
# dir 2020
dir_2020 = "tiffs_2020/"
files_2020 = list.files(dir_2020, pattern = ".*\\.mag.geo.tif$", full.names = TRUE)
files_2020
# Import DEM for slope analyses
dir_dem = "./data/DEM/LMI_Haedarlikan_DEM_16bit_subset_32627.tif"
# Import DEM for slope analyses
dir_dem = "./data/DEM/LMI_Haedarlikan_DEM_16bit_subset_32627.tif"
dem_big = raster(dir_dem)
# load packages
packages = c("tidyverse", "raster", "sf", "exactextractr", "stringr", "data.table", "RColorBrewer")
lapply(packages, require, character.only = TRUE)
install.packages("exaxctextractr")
install.packages("exactextractr")
# load packages
packages = c("tidyverse", "raster", "sf", "exactextractr", "stringr", "data.table", "RColorBrewer")
lapply(packages, require, character.only = TRUE)
source("./R/functions.R")
# dir 2020
dir_2020 = "tiffs_2020/"
files_2020 = list.files(dir_2020, pattern = ".*\\.mag.geo.tif$", full.names = TRUE)
# Import DEM for slope analyses
dir_dem = "./data/DEM/LMI_Haedarlikan_DEM_16bit_subset_32627.tif"
dem_big = raster(dir_dem)
crs(dem_big)
# creating dummy to refer on:
dummy = raster(crs = "+proj=utm +zone=27 +datum=WGS84 +units=m +no_defs",
res = c(30, 30), ext = raster::extent(extent_only_glacier))
# LOAD DATA -----------------------------
# glacier vectors
path_sf = "./vector_geometry/glacier.gpkg"
sf = st_read(path_sf, layer = "parts")
extent = st_read(path_sf, layer = "crop_extent")
extent_only_glacier = st_read(path_sf, layer = "crop_onlyglacier")
# creating dummy to refer on:
dummy = raster(crs = "+proj=utm +zone=27 +datum=WGS84 +units=m +no_defs",
res = c(30, 30), ext = raster::extent(extent_only_glacier))
plot(dummy)
par(mfrow = (c(1, 2)))
plot(slope)
plot(dem)
plot(sf, add = TRUE)
dem = dem_big %>% resample(dummy)
